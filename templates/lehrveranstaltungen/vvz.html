{% extends 'base.html' %} {% block navbar %} {% include 'navbar.html' %} {%
endblock %} {% block content %}

<div class="container" id="inhalt">
  <h2>Lehrveranstaltungen im {{data['semester']}}</h2>
  <table class="table table-borderless table-sm">
    {% set ns = namespace(i = 1) %}
    {% for r in data["rubrik"] %}
    <tr>
      <td colspan="3">
        <h2>{{ r['titel'] }}</h2>
      </td>
    </tr>
    {% for v in r["veranstaltung"] %}
    <tbody class="course_snip">
      <tr {% if ns.i % 2 %} class="bg-light"{% endif %}>
        <td rowspan="1">
          <div style="white-space: nowrap"></div>
          {{i}}{{ v["codes"] }}
        </td>
        <td>
          <a href="{{ v['link'] | safe}}"> {{ v['titel'] }} </a>
        </td>
        <td rowspan="{{ 1 + v['raumzeit'] | length }}">{{ v['dozent'] }}</td>
      </tr>
      {% for line in v["raumzeit"] %}
      <tr {% if ns.i % 2 %} class="bg-light"{% endif %}>
        <td></td>
      <td>{{ line|markdown }}</td>
      </tr>
      {% endfor %} 
      {% if v["assistent"] %}
      <tr {% if ns.i % 2 %} class="bg-light"{% endif %}>
        <td></td>
        <td>Assistenz</td>
        <td>{{ v["assistent"] }}</td>
      </tr>
      {% endif %}
      <tr {% if ns.i % 2 %} class="bg-light"{% endif %}>
        <td colspan="3"></td>
      </tr>
      <tr>
        <td colspan="3"></td>
      </tr>
    </tbody>
    {% set ns.i = ns.i-1 %}
    {% endfor %} 
    {% endfor %}
  </table>
</div>
{% endblock %}
